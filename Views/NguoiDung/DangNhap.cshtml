@{
    ViewData["Title"] = "Đăng nhập";
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Đăng nhập</title>

    <link href="~/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="~/css/site.css" rel="stylesheet" />
    <link href="~/css/user-glass.css" rel="stylesheet" asp-append-version="true">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

</head>
<body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    @await Html.PartialAsync("_DangNhapModal")
    @await Html.PartialAsync("_DangKyModal")

    <script src="~/lib/bootstrap/js/bootstrap.bundle.min.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var modal = new bootstrap.Modal(document.getElementById('loginModal'));
            modal.show();
        });
         document.addEventListener("DOMContentLoaded", function () {

            /* ===== Đăng nhập → Đăng ký ===== */
            const openRegister = document.getElementById("openRegisterModal");
            if (openRegister) {
                openRegister.addEventListener("click", function (e) {
                    e.preventDefault();

                    const loginModalEl = document.getElementById("loginModal");
                    const registerModalEl = document.getElementById("registerModal");

                    const loginModal = bootstrap.Modal.getInstance(loginModalEl)
                        || new bootstrap.Modal(loginModalEl);
                    const registerModal = new bootstrap.Modal(registerModalEl);

                    loginModal.hide();

                    loginModalEl.addEventListener("hidden.bs.modal", function () {
                        registerModal.show();
                    }, { once: true });
                });
            }

            /* ===== Đăng ký → Đăng nhập ===== */
            const openLogin = document.getElementById("openLoginModal");
            if (openLogin) {
                openLogin.addEventListener("click", function (e) {
                    e.preventDefault();

                    const registerModalEl = document.getElementById("registerModal");
                    const loginModalEl = document.getElementById("loginModal");

                    const registerModal = bootstrap.Modal.getInstance(registerModalEl)
                        || new bootstrap.Modal(registerModalEl);
                    const loginModal = new bootstrap.Modal(loginModalEl);

                    registerModal.hide();

                    registerModalEl.addEventListener("hidden.bs.modal", function () {
                        loginModal.show();
                    }, { once: true });
                });
            }

        });
    </script>
    
</body>
</html>
